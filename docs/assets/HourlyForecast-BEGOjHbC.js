import{r as n,j as t,a as w}from"./index-DgWFagGC.js";function N({lat:p,lon:x}){const[h,c]=n.useState(!0),[u,d]=n.useState(null),[o,f]=n.useState([]),g="°F",y="UTC";n.useEffect(()=>{(async()=>{c(!0),d(null);try{const s="https://weather-app-backend-blond.vercel.app",a=new URLSearchParams({location:`${p},${x}`}),i=s?`${s}/api/weather-forecast?${a.toString()}`:`/api/weather-forecast?${a.toString()}`,r=(await w.get(i)).data,l=r?.data?.timelines?.[0]?.intervals||r?.timelines?.[0]?.intervals||r?.data?.intervals||r?.intervals;if(!l||!Array.isArray(l)||l.length===0)throw new Error("No hourly data returned");f(l.slice(0,24))}catch(s){d(s?.message||String(s))}finally{c(!1)}})()},[]);const v=n.useMemo(()=>o.map(e=>{const s=new Date(e.startTime),a=e.values?.temperature??e.values?.temperatureApparent??null,i=a==null?null:Math.round(a),m=e.values?.precipitationProbability??e.values?.precipitation??null,r=e.values?.windSpeed??null;return{t:s,temp:i,pop:m,wind:r}}),[o]);return h&&o.length===0?t.jsxs("div",{className:"py-2",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Hourly (24h)"}),t.jsx("div",{className:"mt-2",children:"Loading hourly forecast…"})]}):u&&o.length===0?t.jsxs("div",{className:"py-2 text-sm text-red-500",children:["Error loading forecast: ",u]}):t.jsxs("div",{className:"py-2",children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Hourly (24h)"}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map((e,s)=>t.jsxs("div",{className:"flex-none w-20 p-2 rounded-lg bg-gray-50 dark:bg-slate-800 text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground",children:e.t.toLocaleTimeString([],{hour:"numeric",timeZone:y})}),t.jsx("div",{className:"text-sm font-medium mt-1",children:e.temp==null?"—":`${e.temp}${g}`})]},s))})]})}export{N as default};
